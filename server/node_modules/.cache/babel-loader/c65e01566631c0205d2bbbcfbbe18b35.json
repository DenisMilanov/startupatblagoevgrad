{"ast":null,"code":"import _defineProperty from\"C:/Users/denis/OneDrive/Documents/GitHub/startupatblagoevgrad-website/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"C:/Users/denis/OneDrive/Documents/GitHub/startupatblagoevgrad-website/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _asyncToGenerator from\"C:/Users/denis/OneDrive/Documents/GitHub/startupatblagoevgrad-website/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/denis/OneDrive/Documents/GitHub/startupatblagoevgrad-website/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"C:\\\\Users\\\\denis\\\\OneDrive\\\\Documents\\\\GitHub\\\\startupatblagoevgrad-website\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import{useState}from\"react\";import{GoogleSpreadsheet}from'google-spreadsheet';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var _useState=useState({}),_useState2=_slicedToArray(_useState,2),formData=_useState2[0],setFormData=_useState2[1];//Import environmental varialbles\nvar _process$env=process.env,REACT_APP_PRIVATE_KEY=_process$env.REACT_APP_PRIVATE_KEY,REACT_APP_CLIENT_EMAIL=_process$env.REACT_APP_CLIENT_EMAIL,REACT_APP_SPREADSHEET_ID=_process$env.REACT_APP_SPREADSHEET_ID,REACT_APP_SHEET_ID=_process$env.REACT_APP_SHEET_ID;//creating new object of google spreadsheet\nvar doc=new GoogleSpreadsheet(REACT_APP_SPREADSHEET_ID);//Function append spreadsheet to add row into google sheet\nvar appendSpreadsheet=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(row){var sheet,result;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:console.log(REACT_APP_CLIENT_EMAIL);_context.prev=1;_context.next=4;return doc.useServiceAccountAuth({client_email:REACT_APP_CLIENT_EMAIL,private_key:REACT_APP_PRIVATE_KEY});case 4:_context.next=6;return doc.loadInfo();case 6:console.log(doc.loadInfo());sheet=doc.sheetsById[REACT_APP_SHEET_ID];_context.next=10;return sheet.addRow(row);case 10:result=_context.sent;return _context.abrupt(\"return\",result);case 14:_context.prev=14;_context.t0=_context[\"catch\"](1);console.error(\"Error: \",_context.t0);case 17:case\"end\":return _context.stop();}}},_callee,null,[[1,14]]);}));return function appendSpreadsheet(_x){return _ref.apply(this,arguments);};}();//end\nvar handleInputChange=function handleInputChange(event){setFormData(_objectSpread(_objectSpread({},formData),{},_defineProperty({},event.target.name,event.target.value)));};var handleSubmit=function handleSubmit(event){event.preventDefault();appendSpreadsheet(formData);};return/*#__PURE__*/_jsxs(\"form\",{className:\"App\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"h1\",{children:\"FORM SUBMISSION\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"name\",placeholder:\"Enter your name...\",onChange:handleInputChange}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"email\",placeholder:\"Enter your email address...\",onChange:handleInputChange}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"Message\",placeholder:\"Enter your message...\",onChange:handleInputChange}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Submit\"})]});}export default App;","map":{"version":3,"sources":["C:/Users/denis/OneDrive/Documents/GitHub/startupatblagoevgrad-website/src/components/SponsorsDepartment/SponsorsForm/SpnsForm.js"],"names":["useState","GoogleSpreadsheet","App","formData","setFormData","process","env","REACT_APP_PRIVATE_KEY","REACT_APP_CLIENT_EMAIL","REACT_APP_SPREADSHEET_ID","REACT_APP_SHEET_ID","doc","appendSpreadsheet","row","console","log","useServiceAccountAuth","client_email","private_key","loadInfo","sheet","sheetsById","addRow","result","error","handleInputChange","event","target","name","value","handleSubmit","preventDefault"],"mappings":"sxBAAA,OAASA,QAAT,KAAyB,OAAzB,CACA,OAASC,iBAAT,KAAkC,oBAAlC,C,wFAEA,QAASC,CAAAA,GAAT,EAAe,CACb,cAAgCF,QAAQ,CAAC,EAAD,CAAxC,wCAAOG,QAAP,eAAiBC,WAAjB,eAEA;AACA,iBAKIC,OAAO,CAACC,GALZ,CACEC,qBADF,cACEA,qBADF,CAEEC,sBAFF,cAEEA,sBAFF,CAGEC,wBAHF,cAGEA,wBAHF,CAIEC,kBAJF,cAIEA,kBAJF,CAOA;AACA,GAAMC,CAAAA,GAAG,CAAG,GAAIV,CAAAA,iBAAJ,CAAsBQ,wBAAtB,CAAZ,CAEA;AAEA,GAAMG,CAAAA,iBAAiB,0FAAG,iBAAOC,GAAP,mIACxBC,OAAO,CAACC,GAAR,CAAYP,sBAAZ,EADwB,sCAGhBG,CAAAA,GAAG,CAACK,qBAAJ,CAA0B,CAC9BC,YAAY,CAAET,sBADgB,CAE9BU,WAAW,CAAEX,qBAFiB,CAA1B,CAHgB,8BAOhBI,CAAAA,GAAG,CAACQ,QAAJ,EAPgB,QAQtBL,OAAO,CAACC,GAAR,CAAYJ,GAAG,CAACQ,QAAJ,EAAZ,EACMC,KATgB,CASRT,GAAG,CAACU,UAAJ,CAAeX,kBAAf,CATQ,wBAUDU,CAAAA,KAAK,CAACE,MAAN,CAAaT,GAAb,CAVC,SAUhBU,MAVgB,+CAWfA,MAXe,4DAatBT,OAAO,CAACU,KAAR,CAAc,SAAd,cAbsB,qEAAH,kBAAjBZ,CAAAA,iBAAiB,4CAAvB,CAiBA;AAEA,GAAMa,CAAAA,iBAAiB,CAAG,QAApBA,CAAAA,iBAAoB,CAACC,KAAD,CAAU,CAClCtB,WAAW,gCAAKD,QAAL,wBAAeuB,KAAK,CAACC,MAAN,CAAaC,IAA5B,CAAkCF,KAAK,CAACC,MAAN,CAAaE,KAA/C,GAAX,CACD,CAFD,CAIA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACJ,KAAD,CAAU,CAC7BA,KAAK,CAACK,cAAN,GACAnB,iBAAiB,CAACT,QAAD,CAAjB,CACD,CAHD,CAIA,mBACE,cAAM,SAAS,CAAC,KAAhB,CAAsB,QAAQ,CAAE2B,YAAhC,wBACE,uCADF,cAEE,cAAO,IAAI,CAAC,MAAZ,CAAmB,IAAI,CAAC,MAAxB,CAA+B,WAAW,CAAC,oBAA3C,CAAgE,QAAQ,CAAEL,iBAA1E,EAFF,cAGE,cAAO,IAAI,CAAC,MAAZ,CAAmB,IAAI,CAAC,OAAxB,CAAgC,WAAW,CAAC,6BAA5C,CAA0E,QAAQ,CAAEA,iBAApF,EAHF,cAIE,cAAO,IAAI,CAAC,MAAZ,CAAmB,IAAI,CAAC,SAAxB,CAAkC,WAAW,CAAC,uBAA9C,CAAsE,QAAQ,CAAEA,iBAAhF,EAJF,cAKE,eAAQ,IAAI,CAAC,QAAb,oBALF,GADF,CAWD,CAED,cAAevB,CAAAA,GAAf","sourcesContent":["import { useState } from \"react\";\r\nimport { GoogleSpreadsheet } from 'google-spreadsheet'\r\n\r\nfunction App() {\r\n  const [formData, setFormData] = useState({})\r\n\r\n  //Import environmental varialbles\r\n  const {\r\n    REACT_APP_PRIVATE_KEY,\r\n    REACT_APP_CLIENT_EMAIL,\r\n    REACT_APP_SPREADSHEET_ID,\r\n    REACT_APP_SHEET_ID\r\n  } = process.env\r\n\r\n  //creating new object of google spreadsheet\r\n  const doc = new GoogleSpreadsheet(REACT_APP_SPREADSHEET_ID);\r\n\r\n  //Function append spreadsheet to add row into google sheet\r\n\r\n  const appendSpreadsheet = async (row) => {\r\n    console.log(REACT_APP_CLIENT_EMAIL);\r\n    try {\r\n      await doc.useServiceAccountAuth({\r\n        client_email: REACT_APP_CLIENT_EMAIL,\r\n        private_key: REACT_APP_PRIVATE_KEY,\r\n      });\r\n      await doc.loadInfo();\r\n      console.log(doc.loadInfo());\r\n      const sheet = doc.sheetsById[REACT_APP_SHEET_ID];\r\n      const result = await sheet.addRow(row);\r\n      return result;\r\n    } catch (e) {\r\n      console.error(\"Error: \", e);\r\n    }\r\n  };\r\n\r\n  //end\r\n\r\n  const handleInputChange = (event) =>{\r\n    setFormData({...formData,[event.target.name]:event.target.value})\r\n  }\r\n\r\n  const handleSubmit = (event) =>{\r\n    event.preventDefault()\r\n    appendSpreadsheet(formData)\r\n  }\r\n  return (\r\n    <form className=\"App\" onSubmit={handleSubmit}>\r\n      <h1>FORM SUBMISSION</h1>\r\n      <input type=\"text\" name=\"name\" placeholder=\"Enter your name...\" onChange={handleInputChange}/>\r\n      <input type=\"text\" name=\"email\" placeholder=\"Enter your email address...\" onChange={handleInputChange}/>\r\n      <input type=\"text\" name=\"Message\" placeholder=\"Enter your message...\" onChange={handleInputChange}/>\r\n      <button type=\"submit\">\r\n        Submit\r\n      </button>\r\n    </form>\r\n  );\r\n}\r\n\r\nexport default App;"]},"metadata":{},"sourceType":"module"}