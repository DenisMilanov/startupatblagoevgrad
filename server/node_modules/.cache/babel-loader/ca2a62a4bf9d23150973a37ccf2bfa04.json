{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\denis\\\\OneDrive\\\\Documents\\\\GitHub\\\\startupatblagoevgrad-website\\\\src\\\\components\\\\Conference2020\\\\ConfSpeakers.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport Flickity from \"flickity\";\nimport Modal from \"react-bootstrap/Modal\";\nimport { firestore } from \"../../firebaseInitApp.js\";\nimport { useCollectionDataOnce } from \"react-firebase-hooks/firestore\";\nimport \"./styles/Flickity.css\";\nimport \"./styles/ConfSpeakers.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function ConfSpeakers() {\n  _s();\n\n  const speakersRef = firestore.collection(\"speakers\");\n  const query = speakersRef.orderBy(\"updatedAt\", \"desc\");\n  const [speakersList, loading] = useCollectionDataOnce(query);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: !loading && /*#__PURE__*/_jsxDEV(Speakers, {\n      speakersList: speakersList\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 17,\n      columnNumber: 24\n    }, this)\n  }, void 0, false);\n}\n\n_s(ConfSpeakers, \"2DpknXZcX+nY9CfRJnsT4jYmlF0=\", false, function () {\n  return [useCollectionDataOnce];\n});\n\n_c = ConfSpeakers;\n\nfunction Speakers(_ref) {\n  _s2();\n\n  let {\n    speakersList\n  } = _ref;\n\n  //makes sure carousel index stays in bounds\n  const mod = (x, m) => {\n    return (x % m + m) % m;\n  };\n  /* keeps track of which speaker to display in the modal */\n\n\n  const [activeSpeaker, setActiveSpeaker] = useState({\n    name: \"\",\n    tagline: \"\",\n    img: \"\",\n    bio: \"\"\n  });\n\n  const handleActiveSpeaker = matchName => {\n    let speaker = speakersList.find(speaker => speaker.name === matchName);\n    setActiveSpeaker(speaker);\n  };\n\n  useEffect(() => {\n    //initialize carousel\n    var elem = document.querySelector(\".flick-carousel\");\n    var flkty = new Flickity(elem, {\n      selectedAttraction: 0.02,\n      friction: 0.2,\n      wrapAround: true,\n      setGallerySize: false,\n      pageDots: false\n    });\n    var cellElements = flkty.getCellElements(); //set the 2 cells to the right and left of the selected cell to medium sizes\n\n    cellElements[mod(flkty.selectedIndex + 1, flkty.cells.length)].style.transform = \"scale(0.8) translateY(0.01%)\";\n    cellElements[mod(flkty.selectedIndex - 1, flkty.cells.length)].style.transform = \"scale(0.8) translateY(0.01%)\";\n    cellElements[mod(flkty.selectedIndex + 2, flkty.cells.length)].style.transform = \"scale(0.65) translateY(-50%)\";\n    cellElements[mod(flkty.selectedIndex - 2, flkty.cells.length)].style.transform = \"scale(0.65) translateY(-50%)\";\n    handleActiveSpeaker(cellElements[flkty.selectedIndex].querySelector(\".speaker-name\").innerText);\n    flkty.on(\"change\", function (index) {\n      handleActiveSpeaker(cellElements[flkty.selectedIndex].querySelector(\".speaker-name\").innerText); //set all cells to small size and push them up\n\n      for (let i = 0; i < cellElements.length; i++) {\n        cellElements[mod(i, flkty.cells.length)].style.transform = \"scale(0.5) translateY(-150%)\";\n      } //set the 2 cells to the right and left of the new selected cell to medium sizes\n\n\n      cellElements[mod(index + 1, flkty.cells.length)].style.transform = \"scale(0.8) translateY(0.01%)\";\n      cellElements[mod(index - 1, flkty.cells.length)].style.transform = \"scale(0.8) translateY(0.01%)\";\n      cellElements[mod(index + 2, flkty.cells.length)].style.transform = \"scale(0.65) translateY(-50%)\";\n      cellElements[mod(index - 2, flkty.cells.length)].style.transform = \"scale(0.65) translateY(-50%)\"; //make selected cell full size\n\n      cellElements[index].style.transform = \"translateY(35%)\";\n    });\n    flkty.on(\"staticClick\", function (event, pointer, cellElement, cellIndex) {\n      flkty.select(cellIndex);\n    });\n  });\n  /* handles opening and closing the modal */\n\n  const [showModal, setShowModal] = useState(false);\n\n  const nina = name => {\n    // this is because nina prodanova-iozeva has a very long name\n    if (name === \"Nina Prodanova-Iozeva\") return {\n      fontSize: \"1.6em\"\n    };else return {\n      fontSize: \"2em\"\n    };\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Modal, {\n      className: \"conf-speakers-modal\",\n      size: \"lg\",\n      scrollable: true,\n      background: \"true\",\n      show: showModal,\n      onHide: () => setShowModal(false),\n      children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n        closeButton: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(Modal.Body, {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-xs mx-auto align-self-center\",\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              src: activeSpeaker.img,\n              className: \"modal-img\",\n              alt: \"\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 127,\n              columnNumber: 8\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 126,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-lg speaker-bio text-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                children: activeSpeaker.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 135,\n                columnNumber: 9\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 134,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                marginTop: \"1em\"\n              },\n              children: activeSpeaker.bio\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 137,\n              columnNumber: 8\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 133,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"conf-speakers\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"conf-speakers-title text-center\",\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"Speakers\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex-container\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flick-carousel\",\n          children: speakersList && speakersList.map((speaker, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"cell-wrapper\",\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              src: speaker.img,\n              className: \"flick-carousel-cell\",\n              alt: speaker.name,\n              style: {\n                willChange: \"transform\"\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 154,\n              columnNumber: 10\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"speaker-name\",\n              style: nina(speaker.name),\n              children: speaker.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 160,\n              columnNumber: 10\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"speaker-tagline\",\n              onClick: () => setShowModal(speaker),\n              children: \"Learn More\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 166,\n              columnNumber: 10\n            }, this)]\n          }, index, true, {\n            fileName: _jsxFileName,\n            lineNumber: 153,\n            columnNumber: 9\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 5\n      }, this), activeSpeaker.video && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"speaker2020-video-wrapper\",\n        children: /*#__PURE__*/_jsxDEV(\"iframe\", {\n          title: \"speaker2020-video\",\n          className: \"speaker2020-video\",\n          width: \"100%\",\n          height: \"100%\",\n          src: activeSpeaker.video,\n          frameBorder: \"0\",\n          allow: \"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\",\n          allowFullScreen: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 7\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 6\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true);\n}\n\n_s2(Speakers, \"8iCXqm/NoqpyYrGNggbE+pUIpQA=\");\n\n_c2 = Speakers;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"ConfSpeakers\");\n$RefreshReg$(_c2, \"Speakers\");","map":{"version":3,"sources":["C:/Users/denis/OneDrive/Documents/GitHub/startupatblagoevgrad-website/src/components/Conference2020/ConfSpeakers.js"],"names":["React","useState","useEffect","Flickity","Modal","firestore","useCollectionDataOnce","ConfSpeakers","speakersRef","collection","query","orderBy","speakersList","loading","Speakers","mod","x","m","activeSpeaker","setActiveSpeaker","name","tagline","img","bio","handleActiveSpeaker","matchName","speaker","find","elem","document","querySelector","flkty","selectedAttraction","friction","wrapAround","setGallerySize","pageDots","cellElements","getCellElements","selectedIndex","cells","length","style","transform","innerText","on","index","i","event","pointer","cellElement","cellIndex","select","showModal","setShowModal","nina","fontSize","marginTop","map","willChange","video"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport Flickity from \"flickity\";\r\n\r\nimport Modal from \"react-bootstrap/Modal\";\r\n\r\nimport { firestore } from \"../../firebaseInitApp.js\";\r\nimport { useCollectionDataOnce } from \"react-firebase-hooks/firestore\";\r\n\r\nimport \"./styles/Flickity.css\";\r\nimport \"./styles/ConfSpeakers.css\";\r\n\r\nexport default function ConfSpeakers() {\r\n\tconst speakersRef = firestore.collection(\"speakers\");\r\n\tconst query = speakersRef.orderBy(\"updatedAt\", \"desc\");\r\n\tconst [speakersList, loading] = useCollectionDataOnce(query);\r\n\r\n\treturn <>{!loading && <Speakers speakersList={speakersList} />}</>;\r\n}\r\n\r\nfunction Speakers({ speakersList }) {\r\n\t//makes sure carousel index stays in bounds\r\n\tconst mod = (x, m) => {\r\n\t\treturn ((x % m) + m) % m;\r\n\t};\r\n\r\n\t/* keeps track of which speaker to display in the modal */\r\n\tconst [activeSpeaker, setActiveSpeaker] = useState({\r\n\t\tname: \"\",\r\n\t\ttagline: \"\",\r\n\t\timg: \"\",\r\n\t\tbio: \"\",\r\n\t});\r\n\r\n\tconst handleActiveSpeaker = (matchName) => {\r\n\t\tlet speaker = speakersList.find(\r\n\t\t\t(speaker) => speaker.name === matchName\r\n\t\t);\r\n\t\tsetActiveSpeaker(speaker);\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\t//initialize carousel\r\n\t\tvar elem = document.querySelector(\".flick-carousel\");\r\n\t\tvar flkty = new Flickity(elem, {\r\n\t\t\tselectedAttraction: 0.02,\r\n\t\t\tfriction: 0.2,\r\n\t\t\twrapAround: true,\r\n\t\t\tsetGallerySize: false,\r\n\t\t\tpageDots: false,\r\n\t\t});\r\n\r\n\t\tvar cellElements = flkty.getCellElements();\r\n\t\t//set the 2 cells to the right and left of the selected cell to medium sizes\r\n\t\tcellElements[\r\n\t\t\tmod(flkty.selectedIndex + 1, flkty.cells.length)\r\n\t\t].style.transform = \"scale(0.8) translateY(0.01%)\";\r\n\t\tcellElements[\r\n\t\t\tmod(flkty.selectedIndex - 1, flkty.cells.length)\r\n\t\t].style.transform = \"scale(0.8) translateY(0.01%)\";\r\n\t\tcellElements[\r\n\t\t\tmod(flkty.selectedIndex + 2, flkty.cells.length)\r\n\t\t].style.transform = \"scale(0.65) translateY(-50%)\";\r\n\t\tcellElements[\r\n\t\t\tmod(flkty.selectedIndex - 2, flkty.cells.length)\r\n\t\t].style.transform = \"scale(0.65) translateY(-50%)\";\r\n\r\n\t\thandleActiveSpeaker(\r\n\t\t\tcellElements[flkty.selectedIndex].querySelector(\".speaker-name\")\r\n\t\t\t\t.innerText\r\n\t\t);\r\n\r\n\t\tflkty.on(\"change\", function (index) {\r\n\t\t\thandleActiveSpeaker(\r\n\t\t\t\tcellElements[flkty.selectedIndex].querySelector(\".speaker-name\")\r\n\t\t\t\t\t.innerText\r\n\t\t\t);\r\n\r\n\t\t\t//set all cells to small size and push them up\r\n\t\t\tfor (let i = 0; i < cellElements.length; i++) {\r\n\t\t\t\tcellElements[mod(i, flkty.cells.length)].style.transform =\r\n\t\t\t\t\t\"scale(0.5) translateY(-150%)\";\r\n\t\t\t}\r\n\t\t\t//set the 2 cells to the right and left of the new selected cell to medium sizes\r\n\t\t\tcellElements[mod(index + 1, flkty.cells.length)].style.transform =\r\n\t\t\t\t\"scale(0.8) translateY(0.01%)\";\r\n\t\t\tcellElements[mod(index - 1, flkty.cells.length)].style.transform =\r\n\t\t\t\t\"scale(0.8) translateY(0.01%)\";\r\n\t\t\tcellElements[mod(index + 2, flkty.cells.length)].style.transform =\r\n\t\t\t\t\"scale(0.65) translateY(-50%)\";\r\n\t\t\tcellElements[mod(index - 2, flkty.cells.length)].style.transform =\r\n\t\t\t\t\"scale(0.65) translateY(-50%)\";\r\n\t\t\t//make selected cell full size\r\n\t\t\tcellElements[index].style.transform = \"translateY(35%)\";\r\n\t\t});\r\n\r\n\t\tflkty.on(\r\n\t\t\t\"staticClick\",\r\n\t\t\tfunction (event, pointer, cellElement, cellIndex) {\r\n\t\t\t\tflkty.select(cellIndex);\r\n\t\t\t}\r\n\t\t);\r\n\t});\r\n\r\n\t/* handles opening and closing the modal */\r\n\tconst [showModal, setShowModal] = useState(false);\r\n\r\n\tconst nina = (name) => {\r\n\t\t// this is because nina prodanova-iozeva has a very long name\r\n\t\tif (name === \"Nina Prodanova-Iozeva\") return { fontSize: \"1.6em\" };\r\n\t\telse return { fontSize: \"2em\" };\r\n\t};\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Modal\r\n\t\t\t\tclassName=\"conf-speakers-modal\"\r\n\t\t\t\tsize=\"lg\"\r\n\t\t\t\tscrollable={true}\r\n\t\t\t\tbackground=\"true\"\r\n\t\t\t\tshow={showModal}\r\n\t\t\t\tonHide={() => setShowModal(false)}\r\n\t\t\t>\r\n\t\t\t\t<Modal.Header closeButton></Modal.Header>\r\n\t\t\t\t<Modal.Body>\r\n\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t<div className=\"col-xs mx-auto align-self-center\">\r\n\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\tsrc={activeSpeaker.img}\r\n\t\t\t\t\t\t\t\tclassName=\"modal-img\"\r\n\t\t\t\t\t\t\t\talt=\"\"\r\n\t\t\t\t\t\t\t></img>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"col-lg speaker-bio text-center\">\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<span>{activeSpeaker.name}</span>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div style={{ marginTop: \"1em\" }}>\r\n\t\t\t\t\t\t\t\t{activeSpeaker.bio}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Modal.Body>\r\n\t\t\t</Modal>\r\n\r\n\t\t\t<div className=\"conf-speakers\">\r\n\t\t\t\t<h2 className=\"conf-speakers-title text-center\">\r\n\t\t\t\t\t<span>Speakers</span>\r\n\t\t\t\t</h2>\r\n\t\t\t\t<div className=\"flex-container\">\r\n\t\t\t\t\t<div className=\"flick-carousel\">\r\n\t\t\t\t\t\t{speakersList &&\r\n\t\t\t\t\t\t\tspeakersList.map((speaker, index) => (\r\n\t\t\t\t\t\t\t\t<div className=\"cell-wrapper\" key={index}>\r\n\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\tsrc={speaker.img}\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"flick-carousel-cell\"\r\n\t\t\t\t\t\t\t\t\t\talt={speaker.name}\r\n\t\t\t\t\t\t\t\t\t\tstyle={{ willChange: \"transform\" }}\r\n\t\t\t\t\t\t\t\t\t></img>\r\n\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"speaker-name\"\r\n\t\t\t\t\t\t\t\t\t\tstyle={nina(speaker.name)}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{speaker.name}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"speaker-tagline\"\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => setShowModal(speaker)}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\tLearn More\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t{activeSpeaker.video && (\r\n\t\t\t\t\t<div className=\"speaker2020-video-wrapper\">\r\n\t\t\t\t\t\t<iframe\r\n\t\t\t\t\t\t\ttitle=\"speaker2020-video\"\r\n\t\t\t\t\t\t\tclassName=\"speaker2020-video\"\r\n\t\t\t\t\t\t\twidth=\"100%\"\r\n\t\t\t\t\t\t\theight=\"100%\"\r\n\t\t\t\t\t\t\tsrc={activeSpeaker.video}\r\n\t\t\t\t\t\t\tframeBorder=\"0\"\r\n\t\t\t\t\t\t\tallow=\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\"\r\n\t\t\t\t\t\t\tallowFullScreen={true}\r\n\t\t\t\t\t\t></iframe>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t</>\r\n\t);\r\n}\r\n"]},"metadata":{},"sourceType":"module"}